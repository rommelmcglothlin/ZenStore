(function(e){function t(t){for(var r,n,o=t[0],c=t[1],d=t[2],u=0,h=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&h.push(a[n][0]),a[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,d||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],r=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=n(n.s=s[0]))}return e}var r={},a={app:0},i=[];function n(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=r,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var r=s("64a9"),a=s.n(r);a.a},"56d7":function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],n=(s("034f"),s("2877")),o={},c=Object(n["a"])(o,a,i,!1,null,null,null),d=c.exports,l=s("8c4f"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 mb-3 text-center"},[e._m(0),s("div",{staticClass:"card border-info"},[s("div",{staticClass:"card-body readMeSection text-left"},[s("h3",{staticClass:"d-flex align-items-center justify-content-between"},[s("span",[e._v("Welcome")]),s("button",{staticClass:"btn btn-secondary",on:{click:e.runAll}},[s("span",[e._v("Run All Suites")])])]),s("div",[s("em",{staticClass:"action text-info",on:{click:e.toggleReadme}},[e._v(e._s(e.readMe?"close":"view")+" readme")])]),e.readMe?s("div",{staticClass:"instructions"},[e._m(1),s("p",[e._v("Each test will tell you what route it is testing, what data (if any) should be sent to the API, and what the response should be.")]),s("p",[e._v("Once the test passes, it will turn green, and the next test will be called. Each suite of tests will correspond to a controller in your backend. The suites have been designed to test one controller at a time")]),s("p",[e._v("Please read the following directions before beginning your tests:")]),e._m(2)]):e._e()])])])]),e._m(3),e.usesAuth?s("auth"):e._e(),e._l(e.suites,(function(e){return s("div",{key:e.name,staticClass:"row"},[s("div",{staticClass:"col-12"},[s("suite",{attrs:{suite:e}}),s("hr")],1)])}))],2)},h=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex flex-column align-items-center mb-3 mt-3"},[s("img",{attrs:{src:"logo.png",width:"150",alt:""}}),s("em",{staticClass:"text-success"},[e._v("Testing from the ground up")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("\n              This tool is designed to test very specific routes in your application's backend.\n              "),s("strong",[e._v("If your routes are different or they return the wrong type of data these tests will not work.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"text-left"},[s("li",{staticClass:"my-2"},[s("strong",[e._v("OPEN YOUR INSPECTOR TOOLS")])]),s("li",{staticClass:"my-2"},[e._v("\n                Next, test your Keep controller. When you press 'run tests' it will create a waterfall effect. Each time a test is successful, it will invoke the next test.\n                "),s("strong",[e._v("If a test fails, the next tests will not run.")]),e._v(" This means that if you pass the first test and the remaining tests stay red, that does not mean that all of them are broken; it means that the next test in the line did not pass so the remaining\n                tests were not run.\n              ")]),s("li",[e._v('\n                When you are ready to view the tests and begin testing, click on the word "Welcome" in the upper left\n                corner of this box and then be sure to scroll down.\n              ')]),s("li",{staticClass:"my-2"},[e._v("Be sure to read your error messages in the console if a test does not pass.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("hr")])])}],p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-6 mx-auto"},[s("div",{staticClass:"card p-3"},[e.user.email?e._e():s("form",{staticClass:"text-left",on:{submit:function(t){t.preventDefault(),e.newAccount?e.register():e.login()}}},[e.newAccount?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Username:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.username,expression:"newUser.username"}],staticClass:"form-control",attrs:{autocomplete:"username",type:"text",placeholder:"name"},domProps:{value:e.newUser.username},on:{input:function(t){t.target.composing||e.$set(e.newUser,"username",t.target.value)}}})]):e._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[e._v("Email:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],staticClass:"form-control",attrs:{type:"email",autocomplete:"email",placeholder:"email"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"Password"}},[e._v("Password:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],staticClass:"form-control",attrs:{autocomplete:"current-password",type:"password",placeholder:"password"},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}})]),s("button",{staticClass:"btn btn-info my-2",attrs:{type:"submit"}},[e._v(e._s(e.newAccount?"Register":"Login"))]),s("div",[s("hr"),s("div",{staticClass:"text-danger text-right action muted",on:{click:function(t){e.newAccount=!e.newAccount}}},[e._v(e._s(e.newAccount?"Already registered? Login":"Create new Account"))])])]),e.user.email?s("div",{staticClass:"col-6 offset-lg-3 my-3"},[s("h1",{staticClass:"mb-2 welcome"},[e._v("Welcome, "+e._s(e.user.username))]),s("button",{staticClass:"btn btn-info",on:{click:e.logout}},[e._v("Logout")])]):e._e()])]),e._m(0)])},w=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12"},[s("hr")])}],m={name:"AuthForm",data(){return{newAccount:!0,newUser:{email:"",password:"",username:""}}},computed:{user(){return this.$store.state.auth.user}},methods:{register(){this.$store.dispatch("register",this.newUser)},login(){let e={email:this.newUser.email,password:this.newUser.password};this.$store.dispatch("login",e)},logout(){this.$store.dispatch("logout"),this.$store.dispatch("removeUser")}}},f=m,g=Object(n["a"])(f,p,w,!1,null,null,null),v=g.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card p-3",class:e.suite.success?"border-success":"border-danger"},[s("div",[s("small",{staticClass:"mr-3"},[e._v("status: "+e._s(e.passing.length)+"/"+e._s(e.suite.tests.length))]),s("em",{staticClass:"action text-info",on:{click:e.toggleSuite}},[e._v(e._s(e.showTests?"close":"view")+" suite")])]),s("h3",{staticClass:"d-flex align-items-center justify-content-between"},[s("span",{staticClass:"mr-4"},[e._v(e._s(e.suite.name))]),s("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.suite.runTests.call(e.suite)}}},[s("span",[e._v("Run Tests")]),e.suite.running?s("i",{staticClass:"fa fa-fw fa-spin fa-spinner ml-2"}):s("i",{staticClass:"fa fa-fw ml-2 text-light",class:e.suite.success?"fa-check-circle":"fa-times-circle"})])]),s("p",[e._v("These tests use the following base URL: api/"+e._s(e.suite.path))]),e.showTests?s("tests",{attrs:{tests:e.suite.tests}}):e._e()],1)},_=[],b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.tests,(function(t){return s("div",{key:t.name,staticClass:"card mb-1",class:t.success?"border-success":"border-danger"},[s("div",{staticClass:"card-header text-light",class:t.success?"bg-success":"bg-danger"},[s("h4",[e._v(e._s(t.name))])]),s("div",{staticClass:"card-body text-left"},[t.message?s("p",{staticClass:"alert",class:t.success?"alert-success":"alert-danger"},[s("b",[e._v("Message:")]),e._v("\n        "+e._s(t.message)+"\n      ")]):e._e(),e._l(t.routeInfo,(function(t,r){return s("p",{key:r},[s("b",[e._v(e._s(r)+":")]),e._v("\n        "+e._s(t)+"\n      ")])}))],2),s("div",{staticClass:"card-footer text-right"},[s("button",{staticClass:"btn btn-secondary",attrs:{disabled:t.running},on:{click:function(e){return t.execute()}}},[s("span",[e._v("Run")]),t.running?s("i",{staticClass:"fa fa-fw fa-spin fa-spinner ml-2"}):e._e()])])])})),0)},T=[],C={name:"keepTests",props:["tests"],data(){return{}},computed:{},methods:{},components:{}},E=C,O=Object(n["a"])(E,b,T,!1,null,null,null),S=O.exports,x={props:["suite"],data(){return{showTests:!0}},computed:{passing(){return this.suite.tests.filter(e=>e.success)}},mounted(){this.showTests=JSON.parse(window.localStorage.getItem(`suite::${this.suite.name}`))},methods:{toggleSuite(){this.showTests=!this.showTests,window.localStorage.setItem(`suite::${this.suite.name}`,this.showTests)}},components:{Tests:S}},P=x,R=Object(n["a"])(P,y,_,!1,null,null,null),U=R.exports,D={mounted(){this.usesAuth&&this.$store.dispatch("authenticate"),this.readMe=JSON.parse(window.localStorage.getItem(this.title))},name:"home",data(){return{title:"AmaZen",readMe:!1,usesAuth:!1}},computed:{user(){return this.$store.state.auth.user},suites(){return this.$store.state.suites}},methods:{toggleReadme(){this.readMe=!this.readMe,window.localStorage.setItem(this.title,this.readMe)},runAll(){try{Promise.all(this.suites.map(e=>e.runTests.call(e)))}catch(e){console.error(e)}}},components:{Auth:v,Suite:U}},I=D,A=Object(n["a"])(I,u,h,!1,null,null,null),N=A.exports;r["a"].use(l["a"]);var $=new l["a"]({routes:[{path:"/",name:"home",component:N}]}),k=s("2f62");r["a"].use(k["a"]);var j=new k["a"].Store({state:{user:{},suites:[]},modules:{},mutations:{setUser(e,t){e.user=t},reloadSuites(e){e.suites=[]},addSuite(e,t){e.suites.push(t)}},actions:{}}),q=s("bc3a"),J=s.n(q);let M="5001"!=location.port?"https://localhost:5001":"",W=J.a.create({baseURL:M+"/api",timeout:8e3,withCredentials:!0});J.a.create({baseURL:M+"/account",timeout:8e3,withCredentials:!0});class G{constructor(e,t,s,r="",a="",i=""){if("function"!=typeof s)throw new Error("Invalid Test Registration");this.success=!1,this.running=!1,this.message="",this.name=e,this.path=t,this.routeInfo={path:t,expected:a,description:r},this.payload=i,this.runTest=s}async execute(){try{this.message="",this.success=!1,this.running=!0;let e=await this.runTest();this.success=e.status,this.message=e.message}catch(e){console.error(e),this.message=e.message}finally{this.running=!1}}}class L{constructor(e,t){this.status=e,this.message=t}}class B{constructor(e,t,s){this.name=e,this.running=!1,this.success=!1,this.description=t,this.tests=[],this.path=s,j.commit("addSuite",this)}addTests(){this.tests.length=0,this.tests.push(...arguments)}async runTests(){this.running=!0;try{for(let e=0;e<this.tests.length;e++){const t=this.tests[e];await t.execute.call(t)}}catch(e){console.error(e)}finally{this.running=!1,this.success=!this.tests.find(e=>!e.success)}}async get(){let e=await W.get(this.path);return e.data}async create(e){let t=await W.post(this.path,e);return t.data}async getById(e){let t=await W.get(`${this.path}/`+e);return t.data}async update(e){let t=await W.put(`${this.path}/`+e.id||e._id,e);return t.data}async delete(e){let t=await W.delete(`${this.path}/`+e.id||e._id);return t.data}}const F="products";let H={name:"TEST__PRODUCT",img:"//placehold.it/200x200",description:"TEST__DESCRIPTION",price:19.99};class V extends B{constructor(){super("ProductsController","This is a test Controller",F),this.addTests(new G("Can Get products",F,async()=>{if(this.products=await this.get(),!Array.isArray(this.products))throw new Error("Invalid data recieved when requesting "+F);return new L(!0,"Able to get products: "+this.products.length)},"GET request. This should get a list of products.","Product[]"),new G("Can Create a product",F,async()=>{if(this.product=await this.create(H),this.product.name!==H.name||!this.product.id)throw new Error("Whoops something failed, unable to create product successfully");return new L(!0,"Successfully created product "+JSON.stringify(this.product))},"Product","POST request. This should create a new product in your database.","product object { id, name, description, img, price }"),new G("Can Get product by product Id",F+"/:id",async()=>{let e=await this.getById(this.product.id);if(e.data.id!==this.product.id)throw new Error("Failed to get the correct product when requesting by id");return new L(!0,"Successfully retrieved product "+JSON.stringify(this.product))},"Product","GET request. This should get one product by its id."),new G("Can Edit product by product Id",F+"/:id",async()=>{this.product.name="EDITED";let e=await this.update(this.product);if(e.name!=this.product.name)throw new Error("Unable to edit product");return new L(!0,"Woot able to edit product successfully "+JSON.stringify(this.product))},"Product","PUT request. This should update one product by its id."),new G("Can delete product by product Id",F+"/:id",async()=>{await this.delete(this.product);try{await this.getById(this.product.id)}catch(e){console.warn("THIS MIGHT OF BEEN EXPECTED",e)}return new L(!0,"Woot able to delete product successfully")},"string","DELETE request. This should delete one product by its id."))}}const Y="reviews";let K={name:"TEST__PRODUCT",description:"TEST__DESCRIPTION",rating:5,productId:""};class X extends B{constructor(){super("ReviewsController","This is a test Controller",Y),this.addTests(new G("Can Create a review",Y,async()=>{let e=await W.post("products",{name:"TEST__PRODUCT__REVIEWS",img:"//placehold.it/200x200",description:"ADDING REVIEWS",price:5.1});if(this.product=e.data,K.productId=e.data.id,this.review=await this.create(K),this.review.name!==K.name||!this.review.id)throw new Error("Whoops something failed, unable to create review successfully");return new L(!0,"Successfully created review "+JSON.stringify(this.review))},"Review","POST request. This should create a new review in your database.","review object { id, name, description, rating, productId }"),new G("Can Edit review by review Id",Y+"/:id",async()=>{this.review.name="EDITED";let e=await this.update(this.review);if(e.name!=this.review.name)throw new Error("Unable to edit review");return new L(!0,"Woot able to edit review successfully "+JSON.stringify(this.review))},"Review","PUT request. This should update one review by its id."),new G("Get Reviews for Product","products/:id/reviews",async()=>{let e=await W.get("products/"+this.product.id+"/reviews");if(!Array.isArray(e))throw new Error("Unable to get product reviews");return new L(e.length>0,JSON.stringify(e))},"Take note of the path this is calling to the ProductsController","review[]"))}}const Z="orders";let z={name:"JIMMY__TEST__ORDER",products:[],total:0};class Q extends B{constructor(){super("OrdersController","",Z),this.addTests(new G("Can Create a order",Z,async()=>{let e=await W.post("products",{name:"TEST__PRODUCT__ORDERS",img:"//placehold.it/200x200",description:"ADDING ORDERS",price:2}),t=await W.post("products",{name:"TEST__PRODUCT__ORDERS",img:"//placehold.it/200x200",description:"ADDING ORDERS",price:5});if(z.products.push(t.data,e.data),this.order=await this.create(z),this.order.name!==z.name||!this.order.id)throw new Error("Whoops something failed, unable to create order successfully");if(7!=this.order.total)throw new Error("Cart total not calculated correctly "+JSON.stringify(this.order));return new L(!0,"Successfully created order "+JSON.stringify(this.order))},"Order","POST request. This should create a new order in your database.","order object { id, name, products, shipped, canceled }"),new G("Can Edit order by order Id, Adds an extra Product",Z+"/:id",async()=>{let e=await W.post("products",{name:"TEST__PRODUCT__ORDERS__ADDON",img:"//placehold.it/200x200",description:"ADDING ORDERS ADDON",price:1});this.order.name="EDITED",this.order.products.push(e.data);let t=await this.update(this.order);if(t.name!=this.order.name||8!=t.total)throw new Error("Unable to edit order correctly");return new L(!0,"Woot able to edit order successfully "+JSON.stringify(this.order))},"Order","PUT request. This should update one order by its id."),new G("Ships Order",Z+"/:id/ship",async()=>{let e=await W.put("orders/"+this.order.id+"/ship");if(this.order=e.data,!e.data.shipped)throw new Error("Unable to ship orders");return new L(!0,JSON.stringify(this.order))},"PUT Request: should mark the order as shipped","order"),new G("Can't Edit order once shipped",Z+"/:id",async()=>{this.order.name="EDITED";try{await this.update(this.order)}catch(e){if(!e.status||404==e.status)throw e;return new L(!0,"Shipped orders can't be edited")}throw new Error("order edited after shipped")},"Error","PUT request. This update should fail."),new G("Non-Cancelable Order",Z+"/:id/cancel",async()=>{try{await W.put("orders/"+this.order.id+"/cancel")}catch(e){if(!e.status||404==e.status)throw e;return new L(!0,"Unable to cancel order after it is shipped")}throw new Error("Once an order is shipped it cannot be canceled")},"PUT Request: Expects shipped order to be uncancelable","order"),new G("Cancel Order",Z+"/:id/cancel",async()=>{this.order.name="A_NEW_ORDER",this.order.products=this.order.products.map(e=>e.id),this.order=this.create(this.order);let e=await W.put("orders/"+this.order.id+"/cancel");if(this.order=e.data,!e.data.canceled)throw new Error("Unable to cancel orders");return new L(!0,JSON.stringify(this.order))},"PUT Request: should mark the order as canceled","order"),new G("Can't Edit order once canceled",Z+"/:id",async()=>{this.order.name="EDITED";try{await this.update(this.order)}catch(e){if(!e.status||404==e.status)throw e;return new L(!0,"Canceled orders can't be edited")}throw new Error("order edited after canceled")},"Error","PUT request. This update should fail."),new G("Non-Shippable Order",Z+"/:id/ship",async()=>{try{await W.put("orders/"+this.order.id+"/ship")}catch(e){if(!e.status||404==e.status)throw e;return new L(!0,"Unable to ship order after it is canceled")}throw new Error("Once an order is canceled it cannot be shipped")},"PUT Request: Expects canceled orders to be non-shippable","order"))}}function ee(){j.commit("reloadSuites"),new V,new X,new Q}ee(),r["a"].config.productionTip=!1,new r["a"]({router:$,store:j,render:function(e){return e(d)}}).$mount("#app")},"64a9":function(e,t,s){}});
//# sourceMappingURL=app.fd6401da.js.map